[ì›ë³¸](https://velog.io/@juijeong8324/Design-Pattern-3)

> ğŸ’» **[íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ êµ¬í˜„ ì½”ë“œ](https://github.com/Tools26/design-pattern-study/tree/main/04_factory_method_pattern/UiJeong)** 

<br>

## íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ 
> "Define an _**interface**_ for _**creating an object**_, but let _**subclasses**_ decide _**which class to instantiate**_. The Factory method lets a class defer instantiation it uses to subclasses." 
-Gang Of Four-

- _**ê°ì²´ ìƒì„± ë¶€ë¶„ì„ ì¶”ìƒí™”**_í•œ íŒ¨í„´. ìƒìœ„ í´ë˜ìŠ¤ì— ì•Œë ¤ì§€ì§€ ì•Šì€ í´ë˜ìŠ¤ì— ëŒ€í•´ _**í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ì–´ë–¤ ê°ì²´ë¥¼ ìƒì„±í•  ì§€ ê²°ì •**_í•˜ë„ë¡ í•˜ëŠ” íŒ¨í„´ ì¦‰ , ê³µì¥ì²˜ëŸ¼ íŠ¹ì • ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ ë°˜í™˜! 
- ìƒì† ê´€ê³„ì— ìˆëŠ” ë‘ í´ë˜ìŠ¤ì—ì„œ ìƒìœ„ í´ë˜ìŠ¤ê°€ ì¤‘ìš”í•œ ë¼ˆëŒ€ë¥¼ ê²°ì •í•˜ê³ , í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ê°ì²´ ìƒì„±ì— ê´€í•œ êµ¬ì²´ì ì¸ ë‚´ìš©ì„ ê²°ì •
- ìƒìœ„ í´ë˜ìŠ¤ëŠ” _**ì¶”ìƒë©”ì†Œë“œ createë¥¼ ì •ì˜**_í•˜ê³ , í•˜ìœ„ í´ë˜ìŠ¤ê°€ ì´ë¥¼ ì¬ì •ì˜í•˜ì—¬ ê°ì²´ë¥¼ ìƒì„±í•œë‹¤. ì´ ë•Œì˜ createë©”ì†Œë“œë¥¼ _**íŒ©í† ë¦¬ ë©”ì†Œë“œ**_
- ì¶”ê°€ë¡œ, í•˜ìœ„ í´ë˜ìŠ¤ëŠ” ìƒìœ„ í´ë˜ìŠ¤ë¥¼ ìƒì†í•˜ì§€ë§Œ í™•ì¥í•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤ëŠ” ì ì— ìœ ì˜í•´ì•¼ í•œë‹¤.
- GoF ë””ìì¸ íŒ¨í„´ ì¤‘ _**ìƒì„± íŒ¨í„´**_ì— í•´ë‹¹

> **ğŸ¤”ì–¸ì œ ì‚¬ìš©í•˜ë‚˜ìš”?** 
1. ì–´ë–¤ í´ë˜ìŠ¤ê°€ **ìì‹ ì´ ìƒì„±í•´ì•¼ í•˜ëŠ” ê°ì²´ì˜ í´ë˜ìŠ¤ë¥¼ ì•Œì§€ ëª»í•  ë•Œ**
2. ê°ì²´ì˜ ìƒì„±ì„ **ì„œë¸Œí´ë˜ìŠ¤ì—ê²Œ ìœ„ì„í•˜ê³  ì‹¶ì„ ë•Œ**

<br>

### êµ¬ì¡°
<p>
<img src="https://velog.velcdn.com/images/juijeong8324/post/9d2259b5-c7c3-4f8d-bbf3-2ca35bcfb73e/image.png" width=800 />
</p>

- **Creator** : _**ìƒìœ„ í´ë˜ìŠ¤**_ë¥¼ ì •ì˜, _**Productë¥¼ ìƒì„±**_í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤(API)ë¥¼ ê°€ì§
- **Creator1** : Creatorë¥¼ ìƒì†ë°›ì€ _**í•˜ìœ„ í´ë˜ìŠ¤**_, _**factoryMethod()ë¥¼ override**_í•˜ì—¬ ì‹¤ì²´í™”í•˜ê³  _**Product1ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜**_, ì¦‰ ì–´ë–¤ íƒ€ì…ì˜ ê°ì²´ë¥¼ ìƒì„±í•´ì•¼ í•˜ëŠ”ì§€ë¥¼ ê²°ì •
- **Product** : ì–´ë–¤ íƒ€ì…ì˜ ê°ì²´, _**Productê°€ ê°€ì ¸í•  ì¸í„°í˜ì´ìŠ¤(API)**_ë¥¼ ê°€ì§ 
- **Product1** : ì„œë¸Œí´ë˜ìŠ¤(ì—¬ê¸°ì„œëŠ” Creator1)ì— ë”°ë¼ ê²°ì •ë˜ëŠ” _**êµ¬ì²´ì ì¸ íƒ€ì…ì˜ ê°ì²´**_

<br>
<br>

### ì¥ì  
- **ëŠìŠ¨í•œ ê²°í•©** : ìƒìœ„ í´ë˜ìŠ¤ì™€ í•˜ìœ„ í´ë˜ìŠ¤ê°€ ë¶„ë¦¬ë˜ê¸° ë•Œë¬¸ì—
- **ìœ ì—°ì„± ì¦ê°€** : ìƒìœ„ í´ë˜ìŠ¤ì—ì„œëŠ” ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë°©ì‹ì— ëŒ€í•´ ì „í˜€ ì•Œ í•„ìš”ê°€ ì—†ìŒ. ì¦‰, ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë¶€ë¶„ì„ ë¶„ë¦¬ì‹œì¼œ í´ë¼ì´ì–¸íŠ¸(ê°ì²´ ìƒì„±ì„ í˜¸ì¶œí•˜ëŠ” ë¶€ë¶„ ex.Main)ì™€ ê²°í•©ë„(ì˜ì¡´ì„±)ë¥¼ ë‚®ì¶˜ë‹¤. 
- **ìœ ì§€ ë³´ìˆ˜ì„± ì¦ê°€** : ê°ì²´ ìƒì„± ë¡œì§ì´ ë”°ë¡œ ë–¼ì–´ì ¸ ìˆê¸° ë•Œë¬¸ì— ì½”ë“œë¥¼ ë¦¬íŒ©í„°ë§í•˜ë”ë¼ë„ í•œ ê³³ë§Œ ê³ ì¹  ìˆ˜ ìˆìŒ (ì˜ˆë¥¼ ë“¤ì–´ ê°ì²´ë¥¼ ì¶”ê°€/ìˆ˜ì •ì„ í•œë‹¤ë©´ í´ë¼ì´ì–¸íŠ¸ ë¶€ë¶„ì„ ìˆ˜ì •í•˜ì§€ ì•Šê³  ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ë¶€ë¶„ë§Œ ê±´ë“¤ë©´ ëœë‹¤.)

â–¶ ê°ì²´ì§€í–¥ ë””ìì¸íŒ¨í„´ ì›ì¹™ ì¤‘ _**Open - Close Principle**_
ì¦‰, _**ë³€í™”ê°€ ì¼ì–´ë‚  ìˆ˜ ìˆëŠ” ê°ì²´ ìƒì„± ë¶€ë¶„ì„ í•œ ê³³ì—ì„œ ê´€ë¦¬**(==ë³€í™”ì— ëŒ€í•´ì„œ ë‹«í˜)_í•˜ì—¬ _**ìˆ˜ì •í•˜ëŠ”ë° í¸í•¨**_(== í™•ì •ì— ëŒ€í•´ ì—´ë¦¼)

<br>
<br>

## êµ¬í˜„
![](https://velog.velcdn.com/images/juijeong8324/post/74fc6ab1-7f3d-437d-8d98-3f5095029408/image.png)
- **Room** (ì¶”ìƒ í´ë˜ìŠ¤, Productì— í•´ë‹¹) 
âŒ MagicRoom (êµ¬ì²´ì ì¸ product)
âŒ OrdinaryRoom (êµ¬ì²´ì ì¸ product)
- **MazeGame** (ì¶”ìƒ í´ë˜ìŠ¤, Roomì„ ìƒì„±í•˜ëŠ” abstract factory methodë¥¼ ê°€ì§)
âŒ MagicMazeGame (MagicRoomì„ ìƒì„±í•˜ëŠ” factory methodë¥¼ ê°€ì§)
âŒ OrdinaryMazeGame (OrdinaryRoomì„ ìƒì„±í•˜ëŠ” factory methodë¥¼ ê°€ì§)

> **ğŸ¤” ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš© í•´ë„ ë˜ë‚˜ìš”?**
ì‚¬ìš©í•´ë„ ëœë‹¤. ë‹¤ë§Œ ì¸í„°í˜ì´ìŠ¤ëŠ” ì¶”ìƒ ë©”ì„œë“œë§Œ ì‘ì„± ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— _**ì¼ë ¨ì˜ ê³ ì •ì ì¸(ê³µí†µì ì¸) ê³¼ì •ì„ êµ¬í˜„í•œ ë©”ì„œë“œ**_ê°€ í•„ìš”í•˜ë©´ _**ì¶”ìƒ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.**_ 

<br>

```java
/* Room ê´€ë ¨ í´ë˜ìŠ¤*/
public abstract class Room { // ì¶”ìƒí´ë˜ìŠ¤ 
    abstract void connect(Room room); // ë°©ì„ ì—°ê²°í•´ì£¼ëŠ” ì¶”ìƒ method 
}

public class MagicRoom extends Room { // êµ¬ì²´ì ì¸ íƒ€ì…ì˜ í´ë˜ìŠ¤ 
    public void connect(Room room) {}
}

public class OrdinaryRoom extends Room { // êµ¬ì²´ì ì¸ íƒ€ì…ì˜ í´ë˜ìŠ¤
    public void connect(Room room) {}
}
```
<br>

```java
/* Factory ê´€ë ¨ í´ë˜ìŠ¤ */

public abstract class MazeGame { // ì¶”ìƒ Factory í´ë˜ìŠ¤ 
     private final List<Room> rooms = new ArrayList<>();

     public MazeGame() { // ê²Œì„ íŒì´ ì—´ë¦¬ë©´ ë°©ì´ 2ê°œ ìƒê¸°ê³  ì„œë¡œ ì—°ê²°í•´ì¤Œ 
          Room room1 = makeRoom();
          Room room2 = makeRoom();
          room1.connect(room2);
          rooms.add(room1);
          rooms.add(room2);
     }

     abstract protected Room makeRoom(); // abstract factory method
}

public class MagicMazeGame extends MazeGame { // êµ¬ì²´ì ì¸ Facotry í´ë˜ìŠ¤ 
    @Override
    protected MagicRoom makeRoom() {
        return new MagicRoom();
    }
}

public class OrdinaryMazeGame extends MazeGame { // êµ¬ì²´ì ì¸ Facotry í´ë˜ìŠ¤  
    @Override
    protected OrdinaryRoom makeRoom() {
        return new OrdinaryRoom();
    }
}

```
<br>

```java
// í´ë¼ì´ì–¸íŠ¸ ë¶€ë¶„, ê°ì²´ ìƒì„± í˜¸ì¶œ ë¶€ë¶„ 
public class Main {
    public static void main(String[] args) {
        MazeGame ordinaryGame = new OrdinaryMazeGame();
		MazeGame magicGame = new MagicMazeGame();
    }
}

```

<br>
<br>

### ğŸ¤” Simple Factory íŒ¨í„´ 
ì¦‰, ê°ì²´ ìƒì„± ë¶€ë¶„ì„ í•œ í´ë˜ìŠ¤ì—ì„œ ë‹´ë‹¹í•˜ëŠ” ê²ƒ, ì¦‰ í•œ Factory í´ë˜ìŠ¤ì—ì„œ ê°ê¸° ë‹¤ë¥¸ Product í´ë˜ìŠ¤ë¥¼ ìƒì„±í•œë‹¤.

```java
/*Product*/
public interface Shape { // ê°ì²´ ì •ì˜ ì¸í„°í˜ì´ìŠ¤ 
   void draw();
}

public class Rectangle implements Shape { // êµ¬í˜„ í´ë˜ìŠ¤ 

   @Override
   public void draw() {
      System.out.println("Inside Rectangle::draw() method.");
   }
}

public class Square implements Shape { // êµ¬í˜„ í´ë˜ìŠ¤ 

   @Override
   public void draw() {
      System.out.println("Inside Square::draw() method.");
   }
}

public class Circle implements Shape { // êµ¬í˜„ í´ë˜ìŠ¤ 

   @Override
   public void draw() {
      System.out.println("Inside Circle::draw() method.");
   }
}
```

<br>

```java
/*Factory*/
public class ShapeFactory {
	
   //use getShape method to get object of type shape 
   public Shape getShape(String shapeType){
      if(shapeType == null){
         return null;
      }		
      if(shapeType.equalsIgnoreCase("CIRCLE")){
         return new Circle();
         
      } else if(shapeType.equalsIgnoreCase("RECTANGLE")){
         return new Rectangle();
         
      } else if(shapeType.equalsIgnoreCase("SQUARE")){
         return new Square();
      }
      
      return null;
   }
}
```

<br>

```java
public class FactoryPatternDemo { // ê°ì²´ ìƒì„± í˜¸ì¶œ ë¶€ë¶„

   public static void main(String[] args) {
      ShapeFactory shapeFactory = new ShapeFactory();

      //get an object of Circle and call its draw method.
      Shape shape1 = shapeFactory.getShape("CIRCLE");

      //call draw method of Circle
      shape1.draw();

      //get an object of Rectangle and call its draw method.
      Shape shape2 = shapeFactory.getShape("RECTANGLE");

      //call draw method of Rectangle
      shape2.draw();

      //get an object of Square and call its draw method.
      Shape shape3 = shapeFactory.getShape("SQUARE");

      //call draw method of square
      shape3.draw();
   }
}

// Inside Circle::draw() method.
// Inside Rectangle::draw() method.
// Inside Square::draw() method.
```


<br>

### Abstract Factory íŒ¨í„´ 
ë‚˜ì¤‘ì— ì¶”ê°€ ì •ë¦¬ í•„ìš”!! 

## [EXAMPLE](https://github.com/wnghdcjfe/csnote)
### JavaScript
- ```new Object```ë¡œ ê°„ë‹¨í•˜ê²Œ êµ¬í˜„ 
```js
const num = new Object(42)
const str = new Object('abc')
num.constructor.name; // ìˆ«ì ì „ë‹¬ ì‹œ Number ê°ì²´ ìƒì„± 
str.constructor.name; // ë¬¸ìì—´ ì „ë‹¬ ì‹œ String ê°ì²´ ìƒì„± 
```
ì¦‰, ì „ë‹¬ë°›ì€ ê°’ì— ë”°ë¼ ë‹¤ë¥¸ ê°ì²´ë¥¼ ìƒì„±í•˜ë©° ì¸ìŠ¤í„´ìŠ¤ì˜ íƒ€ì… ë“±ì„ ì •í•¨. 

<br>

- Coffee Facotryì—ì„œ Latte ìƒì‚° 
```js
class CoffeeFactory {
    static createCoffee(type) {
        const factory = factoryList[type]
        return factory.createCoffee()
    }
}   
class Latte {
    constructor() {
        this.name = "latte"
    }
}
class Espresso {
    constructor() {
        this.name = "Espresso"
    }
} 

class LatteFactory extends CoffeeFactory{
    static createCoffee() {
        return new Latte()
    }
}
class EspressoFactory extends CoffeeFactory{
    static createCoffee() {
        return new Espresso()
    }
}
const factoryList = { LatteFactory, EspressoFactory } 
 
 
const main = () => {
    // ë¼ë–¼ ì»¤í”¼ë¥¼ ì£¼ë¬¸í•œë‹¤.  
    const coffee = CoffeeFactory.createCoffee("LatteFactory")  
    // ì»¤í”¼ ì´ë¦„ì„ ë¶€ë¥¸ë‹¤.  
    console.log(coffee.name) // latte
}
main()
``` 
- CoffeeFactoryë¼ëŠ” ìƒìœ„ í´ë˜ìŠ¤ê°€ ì¤‘ìš”í•œ ë¼ˆëŒ€ë¥¼ ê²°ì •, í•˜ìœ„ í´ë˜ìŠ¤ì¸ LatteFactoryê°€ êµ¬ì²´ì ì¸ ë‚´ìš©ì„ ê²°ì • 
â†’ _**ì˜ì¡´ì„± ì£¼ì…**_, CoffeeFactoryì—ì„œ LatteFactoryì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ LatteFactoryì—ì„œ ìƒì„±í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ CoffeeFactoryì— ì£¼ì…í•˜ê³  ìˆê¸° ë•Œë¬¸
- CoffeeFactory í´ë˜ìŠ¤ì—ì„œ createCoffee() ë©”ì„œë“œì˜ static í‚¤ì›Œë“œ
â†’ _**ì •ì ë©”ì„œë“œë¡œ ì •ì˜**_, í´ë˜ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê°ì²´ë¥¼ ë§Œë“¤ì§€ ì•Šê³  í˜¸ì¶œì´ ê°€ëŠ¥í•˜ë©° í•´ë‹¹ ë©”ì„œë“œì— ëŒ€í•œ ë©”ëª¨ë¦¬ í• ë‹¹ì„ í•œë²ˆë§Œ í•  ìˆ˜ ìˆìŒ

<br>
<br>

## ğŸ˜ ì°¸ê³ ìë£Œ
[ë©´ì ‘ì„ ìœ„í•œ CS ì „ê³µì§€ì‹ ë…¸íŠ¸](https://thebook.io/080326/)				
Java ì–¸ì–´ë¡œ ë°°ìš°ëŠ” ë””ìì¸ íŒ¨í„´ ì…ë¬¸				
[GOF Design Pattern](https://stackoverflow.com/questions/1673841/examples-of-gof-design-patterns-in-javas-core-libraries/2707195#2707195)	
[ë””ìì¸íŒ¨í„´ ì´í•´í•˜ê¸°](https://bearhunter49.tistory.com/16)		
[Factory method pattern ìœ„í‚¤ë°±ê³¼](https://en.wikipedia.org/wiki/Factory_method_pattern)		
[[Design Pattern] GoF(Gang of Four) ë””ìì¸ íŒ¨í„´](https://4z7l.github.io/2021/01/26/design_pattern_factory_method.html)		
[Design Pattern - Factory Pattern](https://www.tutorialspoint.com/design_pattern/factory_pattern.htm)		
[íŒ©í† ë¦¬ íŒ¨í„´, ë„ëŒ€ì²´ ì™œ ì“°ëŠ”ê±°ì•¼? - ê¸°ë³¸ ì´ë¡ í¸]		(https://biggwang.github.io/2019/06/28/Design%20Patterns/%5BDesign%20Patterns%5D%20%ED%8C%A9%ED%86%A0%EB%A6%AC%20%ED%8C%A8%ED%84%B4,%20%EB%8F%84%EB%8C%80%EC%B2%B4%20%EC%99%9C%20%EC%93%B0%EB%8A%94%EA%B1%B0%EC%95%BC-%EA%B8%B0%EB%B3%B8%20%EC%9D%B4%EB%A1%A0%ED%8E%B8/#undefined)
