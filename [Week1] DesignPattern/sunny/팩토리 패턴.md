# íŒ©í† ë¦¬ íŒ¨í„´, Factory Pattern (Simple Factory, Factory Method, Abstract Factory)

---

## ì‹¬í”Œ íŒ©í† ë¦¬ íŒ¨í„´ (Simple Factory Pattern)

> ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ë”°ë¡œ ë‘ëŠ” íŒ¨í„´
> 
- ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ì½”ë“œì—ì„œ ê°ì²´ ìƒì„± ë¶€ë¶„ì„ ë–¼ì–´ë‚´ ì¶”ìƒí™”
- ìƒì† ê´€ê³„ì— ìˆëŠ” ë‘ í´ë˜ìŠ¤ì—ì„œ ìƒìœ„ í´ë˜ìŠ¤ê°€ ì¤‘ìš”í•œ ë¼ˆëŒ€ë¥¼ ê²°ì •í•˜ê³ , í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ê°œê²Œ ìƒì„±ì— ê´€í•œ êµ¬ì²´ì ì¸ ë‚´ìš©ì„ ê²°ì •
- ğŸ‘ ìƒìœ„ í´ë˜ìŠ¤ì™€ í•˜ìœ„ í´ë˜ìŠ¤ê°€ ë¶„ë¦¬ë˜ê¸° ë•Œë¬¸ì— ëŠìŠ¨í•œ ê²°í•©ì„ ê°€ì§€ë©° ìƒìœ„ í´ë˜ìŠ¤ì—ì„œëŠ”  ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë°©ì‹ì— ëŒ€í•´ ì „í˜€ ì•Œ í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì— **ë” ë§ì€ ìœ ì—°ì„±ì„ ê°–ê²Œ ëœë‹¤.**
- ğŸ‘ ê°ì²´ ìƒì„± ë¡œì§ì´ ë”°ë¡œ ë–¼ì–´ì ¸ ìˆê¸° ë•Œë¬¸ì— ì½”ë“œë¥¼ ë¦¬íŒ©í„°ë§í•˜ë”ë¼ë„ í•œ ê³³ë§Œ ê³ ì¹  ìˆ˜ ìˆê²Œ ë˜ë‹ˆ **ìœ ì§€ ë³´ìˆ˜ì„±ì´ ì¦ê°€**í•œë‹¤.
- ğŸ‘ ìƒˆë¡œ ìƒì„±í•  ê°ì²´ê°€ ëŠ˜ì–´ë‚  ë•Œë§ˆë‹¤, Factory í´ë˜ìŠ¤ì— ì¶”ê°€í•´ì•¼ ë˜ê¸° ë•Œë¬¸ì— í´ë˜ìŠ¤ê°€ ë§ì•„ì§„ë‹¤.

![43b09446-d183-4a9c-a32b-93048a4062e3 (1)](https://user-images.githubusercontent.com/88873302/222948023-2b131118-7a0b-4963-baca-3ac5e402e718.png)


### ì˜ˆì œ ì½”ë“œ

```java
public class CoffeeFactory {
    public Coffee orderCoffee(String type) {
        Coffee coffee = createCoffee(type);
        coffee.complete();
        return coffee;
    }
    private Coffee createCoffee(String type) {
        return switch (type) {
            case "Latte" -> new Latte();
            case "Americano" -> new Americano();
            default -> null;
        };
    }
}
// ì»¤í”¼ ì¸í„°í˜ì´ìŠ¤
public interface Coffee {
    void complete();
    void drink();
}
// ë¼ë–¼
public class Latte implements Coffee {
    @Override
    public void complete() {
        System.out.println("ë¼ë–¼ ì™„ì„±");
    }
    
    @Override
    public void drink() {
        System.out.println("ë¼ë–¼ ë§ˆì‹œê¸°");
    }
}
// ì•„ë©”ë¦¬ì¹´ë…¸
public class Americano implements Coffee {
    @Override
    public void complete() {
        System.out.println("ì•„ë©”ë¦¬ì¹´ë…¸ ì™„ì„±");
    }

    @Override
    public void drink() {
        System.out.println("ì•„ë©”ë¦¬ì¹´ë…¸ ë§ˆì‹œê¸°");
    }
}
// í´ë¼ì´ì–¸íŠ¸ê°€ ì»¤í”¼ ê³µì¥ì—ì„œ ì»¤í”¼ë¥¼ ì£¼ë¬¸í•œë‹¤.
public class Demo {
    public static void main(String[] args) {
        CoffeeFactory coffeeFactory = new CoffeeFactory();
        Coffee coffee = coffeeFactory.orderCoffee("Latte");
        coffee.drink();
    }
}
```

## íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ (Factory Method Pattern)

> í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“œëŠ” ì¼ì„ ì„œë¸Œ í´ë˜ìŠ¤ì—ê²Œ ë§¡ê¸°ëŠ” ê²ƒ
> 
- ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì„ ì„œë¸Œ í´ë˜ìŠ¤ì— ìœ„ì„
- ë¶€ëª¨ ì¶”ìƒ í´ë˜ìŠ¤ëŠ” ì¸í„°í˜ì´ìŠ¤ì—ë§Œ ì˜ì¡´í•˜ê³  ì‹¤ì œë¡œ ì–´ë–¤ êµ¬í˜„ í´ë˜ìŠ¤ë¥¼ í˜¸ì¶œí•  ì§€ëŠ” ì„œë¸Œ í´ë˜ìŠ¤ì—ì„œ êµ¬í˜„
- ìƒˆë¡œìš´ êµ¬í˜„ í´ë˜ìŠ¤ê°€ ì¶”ê°€ ë˜ì–´ë„ ê¸°ì¡´ Factory ì½”ë“œì˜ ìˆ˜ì • ì—†ì´ ìƒˆë¡œìš´ Factoryë¥¼ ì¶”ê°€í•˜ë©´ ëœë‹¤.
- ğŸ‘ ìˆ˜ì •ì— ë‹«í˜€ìˆê³  í™•ì¥ì—ëŠ” ì—´ë ¤ìˆëŠ” OCP ì›ì¹™ì„ ì§€í‚¬ ìˆ˜ ìˆë‹¤
- ğŸ‘ ì½”ë“œëŸ‰ ì¦ê°€

![Untitled (2)](https://user-images.githubusercontent.com/88873302/222948061-0482020c-9424-4fbb-9d8b-d2c1566f711d.png)

### ì˜ˆì œ ì½”ë“œ

```java
public interface CoffeeFactory {
    default Coffee orderCoffee() {
        Coffee coffee = createCoffee();
        coffee.complete();
        return coffee;
    }
    Coffee createCoffee();
}
public class LatteFactory implements CoffeeFactory {
    @Override
    public Coffee createCoffee() {
        return new Latte();
    }

}
public class AmericanoFactory implements CoffeeFactory {
    @Override
    public Coffee createCoffee() {
        return new Americano();
    }

}
// ì»¤í”¼ ì¸í„°í˜ì´ìŠ¤
public interface Coffee {
    void complete();
    void drink();
}
// ë¼ë–¼
public class Latte implements Coffee {
    @Override
    public void complete() {
        System.out.println("ë¼ë–¼ ì™„ì„±");
    }
    
    @Override
    public void drink() {
        System.out.println("ë¼ë–¼ ë§ˆì‹œê¸°");
    }
}
// ì•„ë©”ë¦¬ì¹´ë…¸
public class Americano implements Coffee {
    @Override
    public void complete() {
        System.out.println("ì•„ë©”ë¦¬ì¹´ë…¸ ì™„ì„±");
    }

    @Override
    public void drink() {
        System.out.println("ì•„ë©”ë¦¬ì¹´ë…¸ ë§ˆì‹œê¸°");
    }
}
// í´ë¼ì´ì–¸íŠ¸ê°€ ì»¤í”¼ ê³µì¥ì—ì„œ ì»¤í”¼ë¥¼ ì£¼ë¬¸í•œë‹¤.
public class Demo {
    public static void main(String[] args) {
        LatteFactory latteFactory = new LatteFactory();
        Coffee coffee1 = latteFactory.orderCoffee();
        coffee1.drink();

        AmericanoFactory americanoFactory = new AmericanoFactory();
        Coffee coffee2 = americanoFactory.orderCoffee();
        coffee2.drink();
    }
}
```

ğŸ’¡ ì‹¬í”Œ íŒ©í† ë¦¬ì—ì„œëŠ” CoffeeFactoryê°€ Latte, Americano ê°ì²´ë¥¼ ë§Œë“¤ì—ˆì§€ë§Œ, íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´ì—ì„œëŠ” LatteFactoryì™€ AmericanoFactoryì—ì„œ ê°ê° Latteì™€ Americano ê°ì²´ë¥¼ ë§Œë“ ë‹¤.

## ì¶”ìƒ íŒ©í† ë¦¬ íŒ¨í„´ (Abstract Factory Pattern)

> ì„œë¡œ ì—°ê´€ë˜ê±°ë‚˜ ì˜ì¡´ì ì¸ ê°ì²´ë“¤ì˜ ì¡°í•©ì„ ë§Œë“œëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•˜ëŠ”  íŒ¨í„´
> 
- ì¶”ìƒ íŒ©í† ë¦¬ íŒ¨í„´ì€ ì—°ê´€ëœ ê°ì²´ë“¤ì˜ ìƒì„±ì„ í•˜ë‚˜ì˜ íŒ©í† ë¦¬ì—ì„œ ë‹´ë‹¹
- ğŸ‘ ìˆ˜ì •ì—ëŠ” ë‹«í˜€ìˆê³  í™•ì¥ì—ëŠ” ì—´ë ¤ìˆë‹¤
- ğŸ‘ ì—¬ëŸ¬ ê°œì˜ ë¹„ìŠ·í•œ ì§‘í•© ê°ì²´ ìƒì„±ì„ í•˜ë‚˜ì˜ íŒ©í† ë¦¬ì— ëª¨ì•„ë‘˜ ìˆ˜ ìˆë‹¤
- ğŸ‘ í´ë˜ìŠ¤ ê°œìˆ˜ ì¦ê°€

![https://user-images.githubusercontent.com/88873302/222947574-063c04d3-d67a-4a59-be85-16fefc4b8a2f.png](https://user-images.githubusercontent.com/88873302/222947574-063c04d3-d67a-4a59-be85-16fefc4b8a2f.png)

ğŸ‘‰ ì•„ë©”ë¦¬ì¹´ë…¸ëŠ” `kenya` ì›ë‘ë¥¼, ë¼ë–¼ëŠ” `normal` ì›ë‘ë¥¼ ì‚¬ìš©í•œë‹¤ê³  ê°€ì •í•˜ì.

### ì˜ˆì œ ì½”ë“œ

```java
public interface CoffeeFactoryOfFactory {
    CoffeeFactory requestCoffee(String type);
}
public class DefaultCoffeeFactoryOfFactory implements CoffeeFactoryOfFactory {
    @Override
    public CoffeeFactory requestCoffee(String type) {
        switch (type) {
            case "Latte":
                return new LatteFactory();
            case "Americano":
                return new AmericanoFactory();
        }
        throw new IllegalArgumentException();
    }
}

public interface CoffeeFactory {
    Coffee createCoffee();
    Bean createBean();
}
public class LatteFactory implements CoffeeFactory {
    @Override
    public Coffee createCoffee() {
        Bean bean = createBean();
        bean.putBean();
        return new Latte();
    }
    @Override
    public Bean createBean() {
        return new NormalBean();
    }
}
public class AmericanoFactory implements CoffeeFactory {
    @Override
    public Coffee createCoffee() {
        Bean bean = createBean();
        bean.putBean();
        return new Americano();
    }
    @Override
    public Bean createBean() {
        return new KenyaBean();
    }
}

public interface Bean {
    void putBean();
}
public class NormalBean implements Bean {
    @Override
    public void putBean() {
        System.out.println("ì¼ë°˜ ì›ë‘");
    }
}
public class KenyaBean implements Bean {
    @Override
    public void putBean() {
        System.out.println("ì¼€ëƒ ì›ë‘");
    }
}

public interface Coffee {
    void complete();
    void drink();
}
public class Latte implements Coffee {
    @Override
    public void complete() {
        System.out.println("ë¼ë–¼ ì™„ì„±");
    }

    @Override
    public void drink() {
        System.out.println("ë¼ë–¼ ë§ˆì‹œê¸°");
    }
}
public class Americano implements Coffee {
    @Override
    public void complete() {
        System.out.println("ì•„ë©”ë¦¬ì¹´ë…¸ ì™„ì„±");
    }

    @Override
    public void drink() {
        System.out.println("ì•„ë©”ë¦¬ì¹´ë…¸ ë§ˆì‹œê¸°");
    }
}

public class Demo {
    public static void main(String[] args) {
        CoffeeFactoryOfFactory coffeeFactoryOfFactory = new DefaultCoffeeFactoryOfFactory();
        CoffeeFactory latteFactory = coffeeFactoryOfFactory.requestCoffee("Latte");
        Coffee latte = latteFactory.createCoffee();
        latte.complete();
        latte.drink();

        CoffeeFactory americanoFactory = coffeeFactoryOfFactory.requestCoffee("Americano");
        Coffee americano = americanoFactory.createCoffee();
        americano.complete();
        americano.drink();
    }
}
```

ğŸ’¡ `CoffeeFactory` ì—ì„œ `Coffee` ì™€ `Bean` ì„ ìƒì„±í•  ìˆ˜ ìˆë‹¤. `LatteFactory` ëŠ” `Latte` ì™€ `NormalBean` ì¡°í•©ìœ¼ë¡œ ê°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆê³ , `AmericanoFactory` ëŠ” `Americano` ì™€  `KenyaBean` ì˜ ì¡°í•©ìœ¼ë¡œ ê°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

ğŸ’¡ ì¦‰, `CoffeeFactory` ëŠ” `Coffee` ì™€ `Bean` ì„ ì¡°í•©í•˜ëŠ” êµ¬í˜„ì²´ë¥¼ ì œê³µí•œë‹¤.

---

### ì°¸ê³  ìë£Œ

- ë©´ì ‘ì„ ìœ„í•œ CS ì „ê³µì§€ì‹ ë…¸íŠ¸
- [https://cjw-awdsd.tistory.com/54](https://cjw-awdsd.tistory.com/54)
- [https://fvor001.tistory.com/63](https://fvor001.tistory.com/63)