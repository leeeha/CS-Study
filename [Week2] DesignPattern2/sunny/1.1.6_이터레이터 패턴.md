# μ΄ν„°λ μ΄ν„° ν¨ν„΄, Iterator Pattern

---

## μ΄ν„°λ μ΄ν„° ν¨ν„΄μ΄λ€? - `λ°λ³µμ ν¨ν„΄`

> μ΄ν„°λ μ΄ν„°(iterator)λ¥Ό μ‚¬μ©ν•μ—¬ μ»¬λ ‰μ…(collection)μ μ”μ†μ— μ ‘κ·Όν•λ” λ””μμΈ ν¨ν„΄μΌλ΅, κ°μ²΄λ¥Ό μ €μ¥ν•λ” λ°©μ‹μ€ λ³΄μ—¬μ£Όμ§€ μ•μΌλ©΄μ„λ„ ν΄λΌμ΄μ–ΈνΈκ°€ κ°μ²΄λ“¤μ—κ² μΌμΌμ΄ μ ‘κ·Όν•  μ μκ² ν•΄μ£Όλ” λ°©λ²•

- `ν–‰μ„ ν¨ν„΄`
- μλ£ν•μ κµ¬μ΅°μ™€λ” μƒκ΄€μ—†μ΄ μ΄ν„°λ μ΄ν„°λΌλ” ν•λ‚μ μΈν„°νμ΄μ¤λ΅ μν κ°€λ¥

## μ΄ν„°λ μ΄ν„° ν¨ν„΄μ κµ¬μ΅°

![https://user-images.githubusercontent.com/88873302/226159820-860ef451-be82-449f-887b-760ce58f2bc2.png](https://user-images.githubusercontent.com/88873302/226159820-860ef451-be82-449f-887b-760ce58f2bc2.png)

- `Iterator μΈν„°νμ΄μ¤` λ” μ»¬λ ‰μ… μνμ— ν•„μ”ν• μ‘μ—…μ„ μ„ μ–Έ
- `Iteratorμ κµ¬ν„μ²΄ (ArrayIterator)` λ” μ»¬λ ‰μ… μνλ¥Ό μ„ν• μ•κ³ λ¦¬μ¦ κµ¬ν„
μ΄λ•, Iterator κ°μ²΄λ” μμ²΄μ μΌλ΅ μ§„ν–‰ μ¤‘μΈ μνλ¥Ό μ¶”μ ν•΄μ•Ό ν•λ‹¤
- `μ»¬λ ‰μ… μΈν„°νμ΄μ¤ (Aggregator)` λ” μ»¬λ ‰μ…κ³Ό νΈν™λλ” λ°λ³µμλ¥Ό μ–»κΈ° μ„ν•΄ ν•λ‚ μ΄μƒμ λ©”μ†λ“λ¥Ό μ„ μ–Έ
- `μ»¬λ ‰μ… μΈν„°νμ΄μ¤μ κµ¬ν„μ²΄ (Array)` λ” ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­ν•  λ•λ§λ‹¤ νΉμ • κµ¬ν„μ²΄ ν΄λμ¤μ μƒλ΅μ΄ μΈμ¤ν„΄μ¤λ¥Ό λ°ν™
- ν΄λΌμ΄μ–ΈνΈλ” μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄ Iterator, μ»¬λ ‰μ…μ„ μ‚¬μ©ν•  μ μλ‹¤.
π‘‰ μ΄λ ‡κ² ν•λ©΄, ν΄λΌμ΄μ–ΈνΈκ°€ κµ¬ν„ ν΄λμ¤μ™€ κ²°ν•©λμ§€ μ•μΌλ―€λ΅ λ™μΌν• ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ΅ λ‹¤μ–‘ν• λ°λ³µμμ™€ μ»¬λ ‰μ…μ„ μ‚¬μ©ν•  μ μλ‹¤

## μ΄ν„°λ μ΄ν„° ν¨ν„΄μ μ μ© μƒν™©

1. μ»¬λ ‰μ…μ΄ λ‚΄λ¶€μ μΌλ΅ λ³µμ΅ν• λ°μ΄ν„°λ¥Ό κ°€μ§€κ³  μμ§€λ§ κ·Έ λ³µμ΅μ„±μ„ ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° μ¨κΈ°κ³  μ‹¶μ„ λ•
    - λ°λ³µμλ” λ³µμ΅ν• λ°μ΄ν„° μ‘μ—…μ— λ€ν• μ„Έλ¶€ μ •λ³΄λ¥Ό μΊ΅μν™”ν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ— μ»¬λ ‰μ… μ”μ†μ— μ•΅μ„Έμ¤ν•λ” λ‡κ°€μ§€ κ°„λ‹¨ν• λ°©λ²•μ„ μ κ³µν•λ‹¤. μ΄λ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈλ” μ»¬λ ‰μ…μ λ³µμ΅μ„±μ„ μ• μ μ—†μΌλ―€λ΅ λ¶€μ£Όμν•κ±°λ‚ μ•…μμ μΈ μ‘μ—…μ„ μν–‰ν•  μ μ—†λ‹¤
2. μ•± μ „μ²΄μ—μ„ μν μ½”λ“μ μ¤‘λ³µμ„ μ¤„μ΄κ³ μ ν•  λ•
3. ν΄λΌμ΄μ–ΈνΈ μ½”λ“κ°€ λ‹¤λ¥Έ λ°μ΄ν„° κµ¬μ΅°λ¥Ό μνν•κΈ°λ¥Ό μ›ν•κ±°λ‚ μ΄λ¬ν• κµ¬μ΅°μ μ ν•μ„ λ―Έλ¦¬ μ• μ μ—†λ” κ²½μ°

## μ΄ν„°λ μ΄ν„° ν¨ν„΄μ μ¥λ‹¨μ 

### μ¥μ 

- μ§‘ν•©μ²΄ ν΄λμ¤μ μ‘μ§‘λ„λ¥Ό λ†’μ—¬μ¤€λ‹¤
- μ§‘ν•©μ²΄ λ‚΄μ—μ„ μ–΄λ–¤ μ‹μΌλ΅ μΌμ΄ μ²λ¦¬λλ”μ§€ μ• ν•„μ” μ—†μ΄, μ§‘ν•©μ²΄ μ•μ— λ“¤μ–΄μλ” λ¨λ“  ν•­λ³µμ— μ ‘κ·Όν•  μ μκ² ν•΄μ¤€λ‹¤
- λ¨λ“  ν•­λ©μ— μΌμΌμ΄ μ ‘κ·Όν•λ” μ‘μ—…μ„ μ»¬λ ‰μ… κ°μ²΄κ°€ μ•„λ‹ μ΄ν„°λ μ΄ν„° κ°μ²΄μ—μ„ λ§΅κ² λλ‹¤. μ΄λ ‡κ² ν•λ©΄, μ§‘ν•©μ²΄μ μΈν„°νμ΄μ¤ λ° κµ¬ν„μ΄ κ°„λ‹¨ν•΄μ§ λΏλ§ μ•„λ‹λΌ, μ§‘ν•©μ²΄μ—μ„λ” λ°λ³µ μ‘μ—…μ—μ„ μ†μ„ λ–Όκ³  μ›λ μμ‹ μ΄ ν•  μΌμ—λ§ μ „λ…ν•  μ μλ‹¤.

### λ‹¨μ 

- λ‹¨μν• μνλ¥Ό κµ¬ν„ν•λ” κ²½μ° ν΄λμ¤λ§ λ§μ•„μ Έ λ³µμ΅λ„κ°€ μ¦κ°€ν•λ‹¤

## μμ  μ½”λ“

- Aggregator.java

```java
public interface Aggregator {
    Iterator iterator();
}
```

- Iterator.java

```java
public interface Iterator {
    boolean next();
    Object current();
    // next()
    // Iterator μΈν„°νμ΄μ¤λ¥Ό ν†µν•΄μ„ Aggregatorμ λ‹¤μ κµ¬μ„± λ°μ΄ν„°λ¥Ό μ–»μ„ μ μλ„λ΅ ν•κ³ ,
    // μ–»μ„ μ μλ‹¤λ©΄ trueλ¥Ό λ°ν™, λ” μ΄μƒ μ–»μ„ μ μ—†λ‹¤λ©΄ falseλ¥Ό λ°ν™
    // current()
    // κµ¬μ„± λ°μ΄ν„°λ¥Ό ν•λ‚ μ–»μ–΄ λ°ν™ν•λ”λ°, μ΄λ• κµ¬μ„± λ°μ΄ν„°μ— λ€ν• νƒ€μ…μ€ μ •ν•΄μ§€μ§€ μ•μ•„μ•Ό ν•λ―€λ΅ Object νƒ€μ…μΌλ΅ λ°ν™
}
```

- Item.java

```java
public class Item {
    private String name;
    private int cost;

    public Item(String name, int cost) {
        this.name = name;
        this.cost = cost;
    }

    @Override
    public String toString() {
        return "(" + name + ", " + cost + ")";
    }
}
```

- Array.java

```java
public class Array implements Aggregator {
    private Item[] items;

    public Array(Item[] items) {
        this.items = items;
    }

    public Item getItem(int index) {
        return items[index];
    }

    public int getCount() {
        return items.length;
    }

    @Override
    public Iterator iterator() {
        return new ArrayIterator(this);
    }
}
```

- ArrayIterator.java

```java
public class ArrayIterator implements Iterator{
    private Array array;
    private int index;

    public ArrayIterator(Array array) {
        this.array = array;
        this.index = -1;
    }

    @Override
    public boolean next() {
        index++;
        return index < array.getCount();
    }

    @Override
    public Object current() {
        return array.getItem(index);
    }
}
```

- Demo.java

```java
public static void main(String[] args) {
        Item[] items = {
                new Item("CPU", 1000),
                new Item("Keyboard", 2000),
                new Item("Mouse", 3000),
                new Item("HDD", 50)
        };

        Array array = new Array(items);
        Iterator it = array.iterator();

        while (it.next()) {
            Item item = (Item)it.current();
            System.out.println(item);
        }
    }
}

/*
(CPU, 1000)
(Keyboard, 2000)
(Mouse, 3000)
(HDD, 50)
 */
 
```

---

### μ°Έκ³  μλ£

- λ©΄μ ‘μ„ μ„ν• CS μ „κ³µμ§€μ‹ λ…ΈνΈ
- [https://www.youtube.com/watch?v=T3sXKtlr0Ow](https://www.youtube.com/watch?v=T3sXKtlr0Ow)
- [https://keencho.github.io/posts/iterator-pattern/](https://keencho.github.io/posts/iterator-pattern/)